# DOM对比修复协同工作流程

## 工作流程概述

本文档定义了用户与AI助手在进行网站开发DOM结构对比和代码修复时的协同工作流程。

## 工作流程步骤

### **第一步：用户定位DOM结构**
- 用户访问目标页面 `http://localhost:7788/index.html` 或相关参考页面
- 用户使用Chrome DevTools或其他工具定位到具体的section DOM结构
- 用户将DOM结构（HTML代码片段）复制并提供给AI助手
- 包含完整的HTML标签、类名、属性和嵌套结构

### **第二步：AI进行对比分析**
- AI分析用户提供的真实DOM结构
- 对比AI已实现的组件代码
- 识别具体差异，包括但不限于：
  - 布局结构差异
  - CSS类名差异
  - 样式属性差异
  - 元素嵌套关系差异
  - 响应式处理差异

### **第三步：AI进行问题修复**
- 根据差异分析结果，修改对应的组件代码文件
- 确保修复后的代码与实际DOM结构保持一致
- 保持原有的设计系统和技术栈要求
- 详细解释修复的具体内容和原因

#### **误差范围标准**

在进行DOM对比和代码修复时，应遵循以下误差范围标准：

##### **可接受误差范围**
- **尺寸误差**：±4px（1个Tailwind单位，如`w-1` = 4px）
- **间距误差**：±4px（1个Tailwind单位，如`gap-1` = 4px）
- **字体大小误差**：±2px（如`text-base`=16px vs 18px实际值）
- **位置定位误差**：±4px（如`left-85`=340px vs 341px实际值）
- **颜色色值误差**：RGB值±5（肉眼难以识别的细微差异）

##### **不可接受的差异（必须修复）**
- **布局方向错误**（如水平布局变成垂直布局）
- **响应式类名破坏固定布局**（如绝对定位容器使用响应式宽度）
- **元素层级顺序错误**（z-index导致的视觉层叠问题）
- **交互功能失效**（按钮无法点击、链接失效等）
- **内容缺失或错误**（文字内容、图片资源缺失）
- **严重的视觉差异**（颜色主题错误、字体族错误）

##### **问题优先级分级**
```
🚨 P0 (严重问题 - 必须立即修复)
- 功能性问题：交互失效、布局完全错乱
- 响应式破坏：绝对定位布局在不同屏幕失效
- 内容错误：关键信息缺失或错误

⚠️ P1 (重要问题 - 应该修复)  
- 视觉问题：层级错误、明显的样式差异
- 用户体验：轻微的交互问题、可访问性问题

💡 P2 (轻微问题 - 可接受范围)
- 细微差异：±4px的尺寸/位置偏差
- 实现方式：功能相同但技术实现不同
- 设计细节：非关键的视觉微调
```

##### **修复决策原则**
1. **功能优先**：确保所有功能正常工作
2. **用户体验优先**：保证良好的交互体验
3. **设计一致性**：保持与设计稿的整体一致
4. **技术实用性**：在精确性和可维护性间取平衡
5. **开发效率**：避免过度优化细微差异

### **第四步：循环验证流程**
按照以下顺序逐个处理每个section：
1. **HeroSection** - 主标题和技术展示卡片
2. **NewsSection** - 新闻列表和分割线
3. **SolutionsSection** - 产品画廊和解决方案
4. **PartnersSection** - 业务原则圆圈和合作优势
5. **ServicesSection** - 服务卡片和交互效果
6. **StandardSection** - 标准化标题和按钮
7. **ContactSection** - 联系我们和询问按钮

每个section完成修复和验证后，再进行下一个section。

## 工作分工

### **用户职责**
- DOM结构定位和提取
- 提供准确的HTML代码片段
- 确认修复结果是否符合预期
- 指出需要进一步调整的问题

### **AI助手职责**
- 代码分析和差异识别
- 组件代码修复和优化
- 技术问题解释和说明
- 确保代码质量和一致性

## 工作原则

1. **精确性优先** - 确保DOM结构完全匹配
2. **逐个击破** - 一次只处理一个section，避免混乱
3. **详细记录** - 记录每次修复的具体内容和原因
4. **质量保证** - 修复后的代码应保持高质量和可维护性
5. **技术一致性** - 遵循项目的技术栈和设计系统要求

## 预期成果

- 所有section的DOM结构与参考页面完全一致
- 组件代码质量高，易于维护
- 响应式设计和交互效果正确实现
- 整体页面效果达到像素级还原要求

---

*本文档为安全印刷公司网站开发项目的协同工作流程规范*