# 项目执行决策树

## 🌳 主要决策节点

### 🎯 任务类型判断
```
开始新任务
    ├─ 是组件开发？
    │   ├─ 是 → 查看 COLLABORATION_WORKFLOW.md
    │   └─ 否 → 继续判断
    ├─ 是响应式相关？
    │   ├─ 实现响应式 → RESPONSIVE_DESIGN_BEST_PRACTICES.md
    │   ├─ 清理响应式 → REMOVE_RESPONSIVE_WORKFLOW.md
    │   └─ 否 → 继续判断
    ├─ 是问题分析？
    │   ├─ 是 → 参考 HERO_TECH_CARD_ISSUE_ANALYSIS.md 模式
    │   └─ 否 → 查看 README.md 获取指引
    └─ 其他 → 查看项目文档索引
```

### 🔍 组件开发决策
```
开始组件开发
    ├─ 是新组件？
    │   ├─ 是 → 按COLLABORATION_WORKFLOW第1-3步执行
    │   └─ 否 → 是修复现有组件？
    │       ├─ 是 → 按COLLABORATION_WORKFLOW第2-4步执行
    │       └─ 否 → 检查COMPONENT_STATUS.md获取状态
    ├─ 需要DOM对比？
    │   ├─ 是 → 用户提供DOM → AI分析差异 → 执行修复
    │   └─ 否 → 直接进入开发阶段
    └─ 需要Git提交？
        ├─ 功能完整 → 单独commit该功能
        ├─ 问题修复 → 按问题类型分别commit  
        └─ 文档更新 → 独立commit文档
```

### 🚨 问题处理决策
```
发现问题
    ├─ 分析问题严重程度
    │   ├─ P0(严重) → 立即修复 → 独立commit
    │   ├─ P1(重要) → 计划修复 → 记录到待办
    │   └─ P2(轻微) → 评估是否在容忍范围
    ├─ 判断问题类型
    │   ├─ 响应式布局问题 → 使用固定类名方案
    │   ├─ DOM结构差异 → 按DOM对比流程处理
    │   ├─ 样式精度问题 → 检查误差是否在±4px内
    │   └─ 功能性问题 → 优先处理
    └─ 记录问题和解决方案
        ├─ 创建分析文档(复杂问题)
        ├─ 更新COMPONENT_STATUS.md
        └─ 提交代码和文档
```

### 📋 工作流程选择
```
确定工作阶段
    ├─ 当前阶段：桌面版精确还原
    │   ├─ 使用 COLLABORATION_WORKFLOW.md
    │   ├─ 重点：DOM结构匹配、像素级精度
    │   └─ 避免：响应式复杂度
    ├─ 清理阶段：移除响应式设计  
    │   ├─ 使用 REMOVE_RESPONSIVE_WORKFLOW.md
    │   ├─ 重点：固定布局、统一尺寸
    │   └─ 目标：为响应式实现做准备
    └─ 响应式阶段：专业响应式实现
        ├─ 使用 RESPONSIVE_DESIGN_BEST_PRACTICES.md
        ├─ 重点：组件变体、设计tokens
        └─ 策略：Mobile-First、渐进增强
```

## 📊 质量控制决策

### 🎯 误差容忍判断
```
发现尺寸/位置差异
    ├─ 差异 ≤ 4px？
    │   ├─ 是 → 可接受，继续
    │   └─ 否 → 必须修复
    ├─ 影响布局功能？
    │   ├─ 是 → P0问题，立即修复
    │   └─ 否 → 评估视觉影响
    └─ 影响用户体验？
        ├─ 是 → P1问题，计划修复
        └─ 否 → P2问题，可接受
```

### 🔧 技术方案选择
```
选择实现方案
    ├─ 需要绝对定位？
    │   ├─ 是 → 避免响应式宽度
    │   └─ 否 → 可使用弹性布局
    ├─ 需要层叠效果？
    │   ├─ 是 → 设置明确z-index
    │   └─ 否 → 使用默认层级
    ├─ 图片实现方式？
    │   ├─ 装饰性 → background-image
    │   ├─ 内容性 → img标签
    │   └─ 响应式 → picture标签
    └─ 字体大小设置？
        ├─ 固定设计 → 使用具体text-*类
        ├─ 语义化 → 使用语义化尺寸
        └─ 响应式 → 组件变体方式
```

## 🚀 执行优先级矩阵

### 高优先级 (立即执行)
- ✅ 功能性问题修复
- ✅ P0级别问题处理  
- ✅ 用户明确要求的功能

### 中优先级 (计划执行)
- 📋 P1级别问题修复
- 📋 代码质量优化
- 📋 文档完善更新

### 低优先级 (有空处理)
- 💡 P2级别问题优化
- 💡 性能微调
- 💡 代码重构

## 📝 文档更新决策

### 🔄 何时更新文档
```
代码变更
    ├─ 工作流程变化 → 更新对应workflow文档
    ├─ 新问题发现 → 创建/更新analysis文档
    ├─ 组件状态变更 → 更新COMPONENT_STATUS.md
    ├─ 技术方案调整 → 更新best practices文档
    └─ 项目架构变化 → 更新README.md
```

### 📚 文档维护原则
1. **实时更新** - 代码变更后立即更新相关文档
2. **版本控制** - 重要文档变更独立commit
3. **交叉引用** - 文档间建立明确的引用关系
4. **用户导向** - 以开发者使用便利为优先

## 🎯 成功标准检查

### ✅ 任务完成标准
- [ ] 功能实现符合设计要求
- [ ] 代码质量达到项目标准
- [ ] 相关文档已更新
- [ ] Git提交信息清晰准确
- [ ] 测试验证通过

### 📈 质量保证检查
- [ ] 误差在容忍范围内(±4px)
- [ ] 布局在目标设备下正常
- [ ] 代码结构清晰易维护
- [ ] 遵循项目技术栈规范

---

*此决策树帮助开发者在任何情况下快速找到正确的执行路径*